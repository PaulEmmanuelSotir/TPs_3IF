//A CORRIGER

create or replace TRIGGER FK_COMMANDES_EURSUD_EMP_EMP
BEFORE INSERT ON PRODUITS
FOR EACH ROW
DECLARE
  isReferenced NUMBER;
BEGIN
  SELECT COUNT(*) INTO isReferenced
  FROM pesotir.EMPLOYES@AMERIQUE
  WHERE NO_EMPLOYE = :NEW.NO_EMPLOYE;
  
  if(isReferenced = 0)
  THEN
    RAISE_APPLICATION_ERROR(-10002, 'NO_EMPLOYE inexistant !');
  END IF;
END;